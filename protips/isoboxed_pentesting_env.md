## Build a pentesting environment in an isobox with Kali linux.

Firstly you will need an iso of your favourite pentesting oriented distro.   
After having installed it, create an isobox from it.  
a hashtag in front of the shell prompt means the command has to run as root.  
For this example i will use kali linux with the XFCE desktop.

`# isobox create kalilinux ~/path_to_iso`  

Congratulations your environment is ready.  
To run a command line tool inside it you can run:  
`# isobox run kalilinux command`    
For example:  
`# isobox run kalilinux msfconsole`  
![Example](https://i.imgur.com/xbBJ0SM.png)  

To run a gui tool you first have to allow local connections to your Xorg/Xwayland host via xhost.  
`xhost + local:`  
You can then gain a shell into your isobox set your display and run your gui app  
Be mindful of the display your host Xorg/Xwayland server runs on 
For example:   
`isobox shell kalilinux`  
`export DISPLAY=":0"` (could be any display)  
`ettercap -G`  
![Example](https://i.imgur.com/K3h2rA9.png)  
Or for short:  
`isobox run kali "DISPLAY=":0" ettercap -G"`  

Alternatively you can start your guest's desktop environment and run your tools:  

`isobox shell kalilinux`  
`Xorg :2 vt3 &` (Could be any display or tty)  
`DISPLAY=":2" dbus-launch xfce4-session & chvt 3`  
chvt 3 allows you to jump into the guest desktop's tty.   